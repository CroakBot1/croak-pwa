<script>
<!-- code by https://www.html-code-generator.com -->
document.write(unescape('%0A%0A%3C%21DOCTYPE%20html%3E%0A%3Chtml%20lang%3D%22en%22%3E%0A%3Chead%3E%0A%3Cmeta%20charset%3D%22UTF-8%22%20/%3E%0A%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20initial-scale%3D1.0%22/%3E%0A%3Ctitle%3EServer-Based%20UUID%20Login%3C/title%3E%0A%3Cstyle%3E%0Abody%20%7B%20font-family%3A%20Arial%2C%20sans-serif%3B%20background%3A%20%23f4f4f4%3B%20padding%3A%2020px%3B%20%7D%0A%0A%23loginOverlay%7B%0A%20%20position%3A%20fixed%3B%0A%20%20top%3A%200%3B%20left%3A%200%3B%20right%3A%200%3B%20bottom%3A%200%3B%0A%20%20background%3A%20%23000000%3B%20/*%20pure%20vantablack%20*/%0A%20%20display%3A%20flex%3B%0A%20%20justify-content%3A%20center%3B%0A%20%20align-items%3A%20center%3B%0A%20%20flex-direction%3A%20column%3B%0A%20%20color%3A%20white%3B%0A%20%20font-family%3A%20Arial%2C%20sans-serif%3B%0A%20%20z-index%3A%209999%3B%0A%7D%0A%0Ainput%20%7B%20padding%3A%2010px%3B%20font-size%3A%2016px%3B%20margin-top%3A%2010px%3B%20%7D%0Abutton%20%7B%20padding%3A%2010px%2020px%3B%20margin-top%3A%2010px%3B%20font-size%3A%2016px%3B%20%7D%0A%23warningMessage%20%7B%20color%3A%20red%3B%20margin-top%3A%2010px%3B%20%7D%0A%23countdown%20%7B%20margin-top%3A%2010px%3B%20color%3A%20yellow%3B%20%7D%0A%23content%20%7B%20display%3A%20none%3B%20padding%3A%2020px%3B%20%7D%0A%3C/style%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%0A%3Cdiv%20id%3D%22loginOverlay%22%3E%0A%20%20%3Ch2%3EEnter%20Your%20UUID%3C/h2%3E%0A%20%20%3Cinput%20type%3D%22text%22%20id%3D%22uuidInput%22%20placeholder%3D%22UUID%20here%22%3E%0A%20%20%3Cbutton%20id%3D%22loginBtn%22%3ELogin%3C/button%3E%0A%20%20%3Cdiv%20id%3D%22warningMessage%22%3E%3C/div%3E%0A%20%20%3Cdiv%20id%3D%22countdown%22%3E%3C/div%3E%0A%3C/div%3E%0A%0A%3Cdiv%20id%3D%22content%22%3E%0A%20%20%3Ch1%3EWelcome%21%3C/h1%3E%0A%20%20%3Cdiv%20id%3D%22protectedData%22%3E%3C/div%3E%0A%3C/div%3E%0A%0A%3Cscript%3E%0Aconst%20API_URL%20%3D%20%22https%3A//server-validation-expiry.onrender.com%22%3B%20//%20Live%20server%20URL%0A%0Aconst%20loginOverlay%20%3D%20document.getElementById%28%22loginOverlay%22%29%3B%0Aconst%20warningMessage%20%3D%20document.getElementById%28%22warningMessage%22%29%3B%0Aconst%20countdownDiv%20%3D%20document.getElementById%28%22countdown%22%29%3B%0Aconst%20contentDiv%20%3D%20document.getElementById%28%22content%22%29%3B%0Alet%20countdownInterval%3B%0Alet%20uuid%3B%0Alet%20firstLoginTime%3B%0A%0A//%20Countdown%20timer%0Afunction%20startCountdown%28firstLogin%29%7B%0A%20%20firstLoginTime%20%3D%20firstLogin%3B%0A%20%20const%20oneMonth%20%3D%2030*24*60*60*1000%3B%0A%20%20clearInterval%28countdownInterval%29%3B%0A%20%20countdownInterval%20%3D%20setInterval%28%28%29%3D%3E%7B%0A%20%20%20%20const%20remaining%20%3D%20oneMonth%20-%20%28Date.now%28%29%20-%20firstLoginTime%29%3B%0A%20%20%20%20if%28remaining%20%3C%3D%200%29%7B%0A%20%20%20%20%20%20countdownDiv.textContent%20%3D%20%22%u23F0%20Your%20access%20has%20expired%21%22%3B%0A%20%20%20%20%20%20clearInterval%28countdownInterval%29%3B%0A%20%20%20%20%20%20loginOverlay.style.display%3D%22flex%22%3B%0A%20%20%20%20%20%20contentDiv.style.display%3D%22none%22%3B%0A%20%20%20%20%20%20warningMessage.textContent%3D%22%u274C%20UUID%20expired.%20Please%20login%20again.%22%3B%0A%20%20%20%20%20%20uuid%20%3D%20null%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20const%20days%20%3D%20Math.floor%28remaining/%281000*60*60*24%29%29%3B%0A%20%20%20%20const%20hours%20%3D%20Math.floor%28%28remaining%25%281000*60*60*24%29%29/%281000*60*60%29%29%3B%0A%20%20%20%20const%20minutes%20%3D%20Math.floor%28%28remaining%25%281000*60*60%29%29/%281000*60%29%29%3B%0A%20%20%20%20const%20seconds%20%3D%20Math.floor%28%28remaining%25%281000*60%29%29/1000%29%3B%0A%20%20%20%20countdownDiv.textContent%20%3D%20%60%u23F3%20Access%20expires%20in%20%24%7Bdays%7Dd%20%24%7Bhours%7Dh%20%24%7Bminutes%7Dm%20%24%7Bseconds%7Ds%60%3B%0A%20%20%7D%2C1000%29%3B%0A%7D%0A%0A//%20Fetch%20protected%20data%0Aasync%20function%20fetchProtectedData%28%29%7B%0A%20%20if%28%21uuid%29%20return%3B%0A%20%20try%7B%0A%20%20%20%20const%20res%20%3D%20await%20fetch%28%60%24%7BAPI_URL%7D/secret-data%60%2C%20%7B%0A%20%20%20%20%20%20headers%3A%20%7B%20%22x-uuid%22%3A%20uuid%20%7D%0A%20%20%20%20%7D%29%3B%0A%20%20%20%20const%20data%20%3D%20await%20res.json%28%29%3B%0A%20%20%20%20if%28data.data%29%20document.getElementById%28%22protectedData%22%29.textContent%20%3D%20data.data%3B%0A%20%20%7Dcatch%28err%29%7B%0A%20%20%20%20document.getElementById%28%22protectedData%22%29.textContent%20%3D%20%22%u274C%20Failed%20to%20fetch%20protected%20content.%22%3B%0A%20%20%20%20console.error%28err%29%3B%0A%20%20%7D%0A%7D%0A%0A//%20Validate%20UUID%0Aasync%20function%20validateUUID%28%29%7B%0A%20%20uuid%20%3D%20document.getElementById%28%22uuidInput%22%29.value.trim%28%29%3B%0A%20%20if%28%21uuid.match%28/%5E%5B0-9a-fA-F-%5D%7B36%7D%24/%29%29%7B%0A%20%20%20%20warningMessage.textContent%3D%22%u274C%20Invalid%20UUID%20format%21%22%3B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%20%20try%7B%0A%20%20%20%20const%20res%20%3D%20await%20fetch%28%60%24%7BAPI_URL%7D/validate-uuid%60%2C%20%7B%0A%20%20%20%20%20%20method%3A%20%22POST%22%2C%0A%20%20%20%20%20%20headers%3A%20%7B%22Content-Type%22%3A%22application/json%22%7D%2C%0A%20%20%20%20%20%20body%3A%20JSON.stringify%28%7Buuid%7D%29%0A%20%20%20%20%7D%29%3B%0A%20%20%20%20const%20data%20%3D%20await%20res.json%28%29%3B%0A%20%20%20%20if%28data.valid%29%7B%0A%20%20%20%20%20%20loginOverlay.style.display%3D%22none%22%3B%0A%20%20%20%20%20%20contentDiv.style.display%3D%22block%22%3B%0A%20%20%20%20%20%20warningMessage.textContent%3D%22%22%3B%0A%20%20%20%20%20%20startCountdown%28data.firstLogin%29%3B%0A%20%20%20%20%20%20fetchProtectedData%28%29%3B%0A%20%20%20%20%7Delse%7B%0A%20%20%20%20%20%20warningMessage.textContent%3D%22%u274C%20%22%20+%20data.message%3B%0A%20%20%20%20%20%20uuid%20%3D%20null%3B%0A%20%20%20%20%7D%0A%20%20%7Dcatch%28err%29%7B%0A%20%20%20%20warningMessage.textContent%3D%22%u274C%20Server%20error.%20Try%20again%20later.%22%3B%0A%20%20%20%20console.error%28err%29%3B%0A%20%20%20%20uuid%20%3D%20null%3B%0A%20%20%7D%0A%7D%0A%0Adocument.getElementById%28%22loginBtn%22%29.onclick%20%3D%20validateUUID%3B%0Adocument.getElementById%28%22uuidInput%22%29.addEventListener%28%22keypress%22%2C%20e%20%3D%3E%20%7B%0A%20%20if%28e.key%20%3D%3D%3D%20%22Enter%22%29%20validateUUID%28%29%3B%0A%7D%29%3B%0A%3C/script%3E%0A%0A%3C/body%3E%0A%3C/html%3E%0A%0A%3C%21DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%20%20%3Cmeta%20charset%3D%22utf-8%22%20/%3E%0A%20%20%3Ctitle%3E%uD83D%uDCE1%2050%20Pairs%201m%20%u2014%2050%2C000%20Historical%20+%20Live%20WebSocket%20+%20Indicators%20+%20Buy%20Alerts%3C/title%3E%0A%20%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20initial-scale%3D1%22%20/%3E%0A%20%20%3Cstyle%3E%0A%20%20%20%20%3Aroot%7B%0A%20%20%20%20%20%20--bg%3A%23000%3B%20--card%3A%230b0b0b%3B%20--grid%3A%23141414%3B%20--txt%3A%23c8facc%3B%20--muted%3A%2398f598%3B%20--accent%3A%2300ffff%3B%20--bad%3A%23ff4d4d%3B%20--good%3A%2300ff84%3B%20--border%3A%231aff1a%3B%0A%20%20%20%20%7D%0A%20%20%20%20*%7Bbox-sizing%3Aborder-box%7D%0A%20%20%20%20body%7Bmargin%3A0%3Bbackground%3Avar%28--bg%29%3Bcolor%3Avar%28--txt%29%3Bfont-family%3Aui-monospace%2C%20SFMono-Regular%2C%20Menlo%2C%20Monaco%2C%20Consolas%2C%20%22Liberation%20Mono%22%2C%20%22Courier%20New%22%2C%20monospace%3Bpadding%3A14px%3Bdisplay%3Agrid%3Bgap%3A14px%3Bgrid-template-columns%3A%201.4fr%201fr%7D%0A%20%20%20%20h2%7Bgrid-column%3A1/-1%3Bmargin%3A0%200%206px%7D%0A%20%20%20%20.bar%7Bgrid-column%3A1/-1%3Bdisplay%3Aflex%3Bgap%3A8px%3Balign-items%3Acenter%3Bflex-wrap%3Awrap%7D%0A%20%20%20%20.pill%7Bpadding%3A6px%2010px%3Bborder%3A1px%20solid%20var%28--border%29%3Bborder-radius%3A999px%3Bbackground%3Avar%28--card%29%7D%0A%20%20%20%20.tiny%7Bfont-size%3A12px%3Bopacity%3A.9%7D%0A%20%20%20%20button%7Bbackground%3A%23000%3Bcolor%3Avar%28--txt%29%3Bborder%3A1px%20solid%20var%28--border%29%3Bpadding%3A6px%2010px%3Bborder-radius%3A8px%3Bcursor%3Apointer%7D%0A%20%20%20%20button%3Ahover%7Bfilter%3Abrightness%281.15%29%7D%0A%20%20%20%20%23chartWrap%7Bbackground%3Avar%28--card%29%3Bborder%3A1px%20solid%20var%28--border%29%3Bborder-radius%3A12px%3Bpadding%3A8px%3Bposition%3Arelative%3Bmin-height%3A420px%7D%0A%20%20%20%20%23chart%7Bwidth%3A100%25%3Bheight%3A420px%3Bdisplay%3Ablock%3Bbackground%3A%23000%7D%0A%20%20%20%20%23output%2C%23panel%7Bbackground%3Avar%28--card%29%3Bborder%3A1px%20solid%20var%28--border%29%3Bborder-radius%3A12px%3Bpadding%3A12px%3Bmax-height%3A460px%3Boverflow%3Aauto%3Bwhite-space%3Apre-wrap%3Bword-break%3Abreak-word%7D%0A%20%20%20%20%23panel%20h3%7Bcolor%3Avar%28--accent%29%3Bmargin%3A10px%200%206px%7D%0A%20%20%20%20.row%7Bdisplay%3Aflex%3Bgap%3A10px%3Balign-items%3Acenter%7D%0A%20%20%20%20.green%7Bcolor%3Avar%28--good%29%7D%20.red%7Bcolor%3Avar%28--bad%29%7D%20.muted%7Bcolor%3Avar%28--muted%29%7D%0A%20%20%20%20.grid%7Bbackground%3Avar%28--card%29%3Bborder%3A1px%20solid%20var%28--border%29%3Bborder-radius%3A12px%3Bpadding%3A8px%3Bdisplay%3Agrid%3Bgrid-template-columns%3Arepeat%28auto-fill%2Cminmax%28130px%2C1fr%29%29%3Bgap%3A8px%3Bmax-height%3A460px%3Boverflow%3Aauto%7D%0A%20%20%20%20.tile%7Bborder%3A1px%20solid%20%230f0%3Bborder-radius%3A10px%3Bpadding%3A6px%3Bbackground%3A%23020202%3Bcursor%3Apointer%7D%0A%20%20%20%20.tile%20h4%7Bmargin%3A0%200%204px%3Bfont-size%3A12px%3Bcolor%3A%239ff59f%7D%0A%20%20%20%20.spark%7Bwidth%3A100%25%3Bheight%3A36px%3Bbackground%3A%23000%3Bborder-radius%3A6px%7D%0A%20%20%20%20.badg%7Bdisplay%3Ainline-block%3Bpadding%3A2px%206px%3Bborder%3A1px%20solid%20var%28--border%29%3Bborder-radius%3A999px%3Bmargin-top%3A4px%3Bfont-size%3A11px%7D%0A%20%20%20%20.buy%7Bbackground%3A%23001a00%3Bcolor%3A%2300ff84%7D%0A%20%20%20%20.warn%7Bbackground%3A%231a0000%3Bcolor%3A%23ff4d4d%3Bborder-color%3A%23ff4d4d%7D%0A%20%20%20%20select%7Bbackground%3A%23000%3Bcolor%3Avar%28--txt%29%3Bborder%3A1px%20solid%20var%28--border%29%3Bborder-radius%3A8px%3Bpadding%3A6px%7D%0A%20%20%3C/style%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%3Ch2%3E%uD83D%uDCE1%2050%20Pairs%201m%20%u2014%2010%2C000%20Historical%20+%20Live%20+%20Buy%20Alerts%3C/h2%3E%0A%20%20%3Cdiv%20class%3D%22bar%22%3E%0A%20%20%20%20%3Cdiv%20class%3D%22pill%22%20id%3D%22status%22%3EStatus%3A%20starting%u2026%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22pill%22%20id%3D%22progress%22%3EFetched%3A%200%20/%20500%2C000%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22pill%22%20id%3D%22live%22%3ELive%3A%20disconnected%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22pill%22%3EVisible%3A%20%3Cspan%20id%3D%22visN%22%3E300%3C/span%3E%20bars%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22pill%20tiny%22%3ETip%3A%20Mobile%20may%20struggle%20keeping%2050%20sockets%3B%20this%20app%20uses%20a%20%3Cb%3Ecombined%20WebSocket%3C/b%3E%20stream.%3C/div%3E%0A%20%20%20%20%3Clabel%20class%3D%22pill%22%3EActive%3A%20%3Cselect%20id%3D%22symbolSel%22%3E%3C/select%3E%3C/label%3E%0A%20%20%20%20%3Cbutton%20id%3D%22btnPause%22%3E%u23F8%uFE0F%20Pause%20Live%3C/button%3E%0A%20%20%20%20%3Cbutton%20id%3D%22btnResume%22%3E%u25B6%uFE0F%20Resume%20Live%3C/button%3E%0A%20%20%20%20%3Cbutton%20id%3D%22btnJumpNow%22%3E%u2934%20Jump%20to%20Now%3C/button%3E%0A%20%20%3C/div%3E%0A%0A%20%20%3Cdiv%20id%3D%22chartWrap%22%3E%0A%20%20%20%20%3Ccanvas%20id%3D%22chart%22%3E%3C/canvas%3E%0A%20%20%3C/div%3E%0A%0A%20%20%3Cpre%20id%3D%22output%22%3EStarting%u2026%3C/pre%3E%0A%20%20%3Cdiv%20id%3D%22panel%22%3ELoading%20indicators%u2026%3C/div%3E%0A%0A%20%20%3Cdiv%20class%3D%22grid%22%20id%3D%22tiles%22%3E%3C/div%3E%0A%0A%3Cscript%3E%0A/**%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%20*%20%20CONFIG%0A%20*%20%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20*/%0Aconst%20SYMBOLS%20%3D%20%5B%0A%20%20%27BTCUSDT%27%2C%27ETHUSDT%27%2C%27BNBUSDT%27%2C%27SOLUSDT%27%2C%27XRPUSDT%27%2C%27ADAUSDT%27%2C%27DOGEUSDT%27%2C%27TRXUSDT%27%2C%27MATICUSDT%27%2C%27DOTUSDT%27%2C%0A%20%20%27LTCUSDT%27%2C%27BCHUSDT%27%2C%27LINKUSDT%27%2C%27ATOMUSDT%27%2C%27AVAXUSDT%27%2C%27XLMUSDT%27%2C%27ETCUSDT%27%2C%27FILUSDT%27%2C%27ICPUSDT%27%2C%27NEARUSDT%27%2C%0A%20%20%27APTUSDT%27%2C%27ARBUSDT%27%2C%27OPUSDT%27%2C%27SUIUSDT%27%2C%27SEIUSDT%27%2C%27PEPEUSDT%27%2C%27SHIBUSDT%27%2C%27FTMUSDT%27%2C%27ALGOUSDT%27%2C%27AAVEUSDT%27%2C%0A%20%20%27UNIUSDT%27%2C%27TONUSDT%27%2C%27MKRUSDT%27%2C%27INJUSDT%27%2C%27IMXUSDT%27%2C%27RUNEUSDT%27%2C%27SNXUSDT%27%2C%27GMXUSDT%27%2C%27DYDXUSDT%27%2C%27EGLDUSDT%27%2C%0A%20%20%27EOSUSDT%27%2C%27STXUSDT%27%2C%27GRTUSDT%27%2C%27SANDUSDT%27%2C%27MANAUSDT%27%2C%27AXSUSDT%27%2C%27CHZUSDT%27%2C%27ENJUSDT%27%2C%27CFXUSDT%27%2C%27QTUMUSDT%27%0A%5D%3B%0Aconst%20INTERVAL%20%3D%20%271m%27%3B%0Aconst%20REST_LIMIT%20%3D%201000%3B%20//%20Binance%20max%20per%20request%0Aconst%20PRELOAD%20%3D%2050_000%3B%20%20//%20per%20pair%0Aconst%20STORE_ALL%20%3D%20false%3B%20//%20cap%20memory%20to%20last%2012k%20for%20safety%0Aconst%20MAX_STORE%20%3D%2012_000%3B%0Aconst%20VISIBLE%20%3D%20300%3B%0Aconst%20FETCH_DELAY_MS%20%3D%2030%3B%20//%20gentle%20throttle%20between%20batches%20per%20pair%0Aconst%20DRAW_EVERY%20%3D%20200%3B%20%20%20%20//%20redraw%20cadence%20during%20preload%0A%0A/**%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%20*%20%20STATE%20%26%20UI%0A%20*%20%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20*/%0Aconst%20output%20%3D%20document.getElementById%28%27output%27%29%3B%0Aconst%20panel%20%20%3D%20document.getElementById%28%27panel%27%29%3B%0Aconst%20statusEl%20%3D%20document.getElementById%28%27status%27%29%3B%0Aconst%20progressEl%20%3D%20document.getElementById%28%27progress%27%29%3B%0Aconst%20liveEl%20%3D%20document.getElementById%28%27live%27%29%3B%0Aconst%20visNEl%20%3D%20document.getElementById%28%27visN%27%29%3B%0Aconst%20btnPause%20%3D%20document.getElementById%28%27btnPause%27%29%3B%0Aconst%20btnResume%20%3D%20document.getElementById%28%27btnResume%27%29%3B%0Aconst%20btnJumpNow%20%3D%20document.getElementById%28%27btnJumpNow%27%29%3B%0Aconst%20tiles%20%3D%20document.getElementById%28%27tiles%27%29%3B%0Aconst%20symbolSel%20%3D%20document.getElementById%28%27symbolSel%27%29%3B%0A%0Alet%20active%20%3D%20SYMBOLS%5B0%5D%3B%0Alet%20livePaused%20%3D%20false%3B%0Alet%20fetchedTotal%20%3D%200%3B%0Alet%20ws%20%3D%20null%3B%0A%0Aconst%20per%20%3D%20%7B%7D%3B%20//%20per%5Bsymbol%5D%20%3D%20%7B%20candles%3A%5B%5D%2C%20lastAlertTs%3Anull%2C%20lastUpdateTs%3A0%20%7D%0A%0ASYMBOLS.forEach%28s%3D%3E%7B%0A%20%20per%5Bs%5D%20%3D%20%7B%20candles%3A%5B%5D%2C%20lastAlertTs%3A0%2C%20lastWsCandleTs%3A0%20%7D%3B%0A%20%20const%20opt%20%3D%20document.createElement%28%27option%27%29%3B%20opt.value%20%3D%20s%3B%20opt.textContent%20%3D%20s%3B%20symbolSel.appendChild%28opt%29%3B%0A%7D%29%3B%0AsymbolSel.value%20%3D%20active%3B%0AsymbolSel.onchange%20%3D%20%28%29%3D%3E%7B%20active%20%3D%20symbolSel.value%3B%20drawChart%28true%29%3B%20updateIndicators%28active%29%3B%20%7D%3B%0A%0A/**%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%20*%20%20UTILS%0A%20*%20%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20*/%0Aconst%20sleep%20%3D%20%28ms%29%20%3D%3E%20new%20Promise%28r%20%3D%3E%20setTimeout%28r%2C%20ms%29%29%3B%0Aconst%20fmt%20%3D%20%28n%2C%20d%3D2%29%20%3D%3E%20%28n%20%3D%3D%20null%20%7C%7C%20Number.isNaN%28n%29%29%20%3F%20%27%u23F3%27%20%3A%20Number%28n%29.toFixed%28d%29%3B%0Aconst%20pushLog%20%3D%20%28s%29%20%3D%3E%20%7B%20output.textContent%20%3D%20s%20+%20%22%5Cn%22%20+%20output.textContent%3B%20%7D%3B%0Aconst%20clampStore%20%3D%20%28arr%29%20%3D%3E%20%7B%20if%20%28%21STORE_ALL%20%26%26%20arr.length%20%3E%20MAX_STORE%29%20return%20arr.slice%28-MAX_STORE%29%3B%20return%20arr%3B%20%7D%3B%0A%0A/**%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%20*%20%20Notifications%20%28native%20pop-up%29%0A%20*%20%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20*/%0Aasync%20function%20ensureNotify%28%29%7B%0A%20%20try%7B%20if%20%28Notification%20%26%26%20Notification.permission%20%3D%3D%3D%20%27default%27%29%20await%20Notification.requestPermission%28%29%3B%20%7Dcatch%7B%7D%0A%7D%0Afunction%20notify%28title%2C%20body%29%7B%0A%20%20try%7B%0A%20%20%20%20if%20%28Notification%20%26%26%20Notification.permission%20%3D%3D%3D%20%27granted%27%29%20new%20Notification%28title%2C%7B%20body%20%7D%29%3B%0A%20%20%7Dcatch%7B%7D%0A%20%20//%20Also%20show%20a%20JS%20alert%28%29%20for%20guaranteed%20pop%20if%20user%20is%20active%0A%20%20try%7B%20alert%28%60%24%7Btitle%7D%5Cn%24%7Bbody%7D%60%29%3B%20%7Dcatch%7B%7D%0A%7D%0A%0A/**%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%20*%20%20REST%3A%20Preload%2010%2C000%20candles%20per%20pair%20%28backwards%29%0A%20*%20%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20*/%0Aasync%20function%20fetchHistoryFor%28sym%29%7B%0A%20%20const%20target%20%3D%20PRELOAD%3B%20let%20fetched%20%3D%200%3B%20let%20endTime%20%3D%20Date.now%28%29%3B%0A%20%20const%20st%20%3D%20per%5Bsym%5D%3B%0A%20%20while%20%28fetched%20%3C%20target%29%7B%0A%20%20%20%20const%20url%20%3D%20new%20URL%28%27https%3A//api.binance.com/api/v3/klines%27%29%3B%0A%20%20%20%20url.searchParams.set%28%27symbol%27%2C%20sym%29%3B%0A%20%20%20%20url.searchParams.set%28%27interval%27%2C%20INTERVAL%29%3B%0A%20%20%20%20url.searchParams.set%28%27endTime%27%2C%20endTime%29%3B%0A%20%20%20%20url.searchParams.set%28%27limit%27%2C%20REST_LIMIT%29%3B%0A%20%20%20%20try%7B%0A%20%20%20%20%20%20const%20res%20%3D%20await%20fetch%28url.toString%28%29%29%3B%0A%20%20%20%20%20%20if%28%21res.ok%29%20throw%20new%20Error%28%60HTTP%20%24%7Bres.status%7D%60%29%3B%0A%20%20%20%20%20%20const%20raw%20%3D%20await%20res.json%28%29%3B%0A%20%20%20%20%20%20if%28%21Array.isArray%28raw%29%20%7C%7C%20raw.length%20%3D%3D%3D%200%29%7B%20pushLog%28%60%u26A0%uFE0F%20%24%7Bsym%7D%3A%20no%20more%20history%60%29%3B%20break%3B%20%7D%0A%20%20%20%20%20%20const%20batch%20%3D%20raw.map%28k%3D%3E%28%7B%20time%3Ak%5B0%5D%2C%20open%3A+k%5B1%5D%2C%20high%3A+k%5B2%5D%2C%20low%3A+k%5B3%5D%2C%20close%3A+k%5B4%5D%2C%20volume%3A+k%5B5%5D%20%7D%29%29%3B%0A%20%20%20%20%20%20st.candles%20%3D%20batch.concat%28st.candles%29%3B%0A%20%20%20%20%20%20fetched%20+%3D%20batch.length%3B%20fetchedTotal%20+%3D%20batch.length%3B%0A%20%20%20%20%20%20endTime%20%3D%20batch%5B0%5D.time%20-%201%3B%0A%20%20%20%20%20%20st.candles%20%3D%20clampStore%28st.candles%29%3B%0A%20%20%20%20%20%20if%20%28fetched%20%25%20DRAW_EVERY%20%3D%3D%3D%200%20%26%26%20sym%20%3D%3D%3D%20active%29%20drawChart%28%29%3B%0A%20%20%20%20%20%20progressEl.textContent%20%3D%20%60Fetched%3A%20%24%7BfetchedTotal.toLocaleString%28%29%7D%20/%20%24%7B%28SYMBOLS.length*PRELOAD%29.toLocaleString%28%29%7D%60%3B%0A%20%20%20%20%20%20await%20sleep%28FETCH_DELAY_MS%29%3B%0A%20%20%20%20%20%20if%20%28raw.length%20%3C%20REST_LIMIT%29%20break%3B%0A%20%20%20%20%7Dcatch%28e%29%7B%20pushLog%28%60%u274C%20%24%7Bsym%7D%20fetch%20error%3A%20%24%7Be.message%7D%60%29%3B%20await%20sleep%28500%29%3B%20%7D%0A%20%20%7D%0A%7D%0A%0Aasync%20function%20preloadAll%28%29%7B%0A%20%20statusEl.textContent%20%3D%20%27Status%3A%20preloading%2010k%20per%20pair%u2026%27%3B%0A%20%20//%20Render%20tiles%0A%20%20tiles.innerHTML%20%3D%20%27%27%3B%0A%20%20SYMBOLS.forEach%28s%3D%3E%7B%0A%20%20%20%20const%20div%20%3D%20document.createElement%28%27div%27%29%3B%20div.className%3D%27tile%27%3B%20div.onclick%3D%28%29%3D%3E%7B%20active%3Ds%3B%20symbolSel.value%3Ds%3B%20drawChart%28true%29%3B%20updateIndicators%28s%29%3B%20%7D%3B%0A%20%20%20%20div.innerHTML%20%3D%20%60%3Ch4%3E%24%7Bs%7D%3C/h4%3E%3Ccanvas%20class%3D%22spark%22%20id%3D%22sp_%24%7Bs%7D%22%3E%3C/canvas%3E%3Cdiv%20class%3D%22badg%22%20id%3D%22bd_%24%7Bs%7D%22%3E%u2014%3C/div%3E%60%3B%0A%20%20%20%20tiles.appendChild%28div%29%3B%0A%20%20%7D%29%3B%0A%20%20//%20Parallel%20with%20small%20staggering%20to%20avoid%20burst%0A%20%20for%20%28let%20i%3D0%3Bi%3CSYMBOLS.length%3Bi++%29%7B%0A%20%20%20%20const%20s%20%3D%20SYMBOLS%5Bi%5D%3B%0A%20%20%20%20fetchHistoryFor%28s%29.then%28%28%29%3D%3E%7B%0A%20%20%20%20%20%20if%20%28s%3D%3D%3Dactive%29%7B%20updateIndicators%28s%29%3B%20drawChart%28true%29%3B%20%7D%0A%20%20%20%20%20%20drawSpark%28s%29%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%20%20await%20sleep%2880%29%3B%0A%20%20%7D%0A%20%20statusEl.textContent%20%3D%20%27Status%3A%20preload%20started%20%28streams%20will%20attach%29%27%3B%0A%7D%0A%0A/**%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%20*%20%20WebSocket%3A%20Combined%20stream%20for%20all%20pairs%0A%20*%20%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20*/%0Afunction%20startCombinedWS%28%29%7B%0A%20%20if%20%28ws%29%20try%7B%20ws.close%28%29%3B%20%7Dcatch%7B%7D%0A%20%20const%20streams%20%3D%20SYMBOLS.map%28s%20%3D%3E%20%60%24%7Bs.toLowerCase%28%29%7D@kline_%24%7BINTERVAL%7D%60%29.join%28%27/%27%29%3B%0A%20%20const%20url%20%3D%20%60wss%3A//stream.binance.com%3A9443/stream%3Fstreams%3D%24%7Bstreams%7D%60%3B%0A%20%20ws%20%3D%20new%20WebSocket%28url%29%3B%0A%0A%20%20ws.onopen%20%3D%20%28%29%3D%3E%7B%20liveEl.textContent%20%3D%20%27Live%3A%20connected%27%3B%20pushLog%28%27%u2705%20Combined%20WebSocket%20connected.%27%29%3B%20%7D%3B%0A%20%20ws.onerror%20%3D%20%28%29%3D%3E%7B%20liveEl.textContent%20%3D%20%27Live%3A%20error%27%3B%20pushLog%28%27%u274C%20WebSocket%20error%27%29%3B%20%7D%3B%0A%20%20ws.onclose%20%3D%20%28%29%3D%3E%7B%20liveEl.textContent%20%3D%20%27Live%3A%20closed%27%3B%20pushLog%28%27%u26A0%uFE0F%20WebSocket%20closed.%20Reconnecting%u2026%27%29%3B%20setTimeout%28startCombinedWS%2C%201500%29%3B%20%7D%3B%0A%0A%20%20ws.onmessage%20%3D%20%28ev%29%3D%3E%7B%0A%20%20%20%20if%20%28livePaused%29%20return%3B%0A%20%20%20%20const%20msg%20%3D%20JSON.parse%28ev.data%29%3B%0A%20%20%20%20if%20%28%21msg%20%7C%7C%20%21msg.data%20%7C%7C%20%21msg.data.k%29%20return%3B%0A%20%20%20%20const%20k%20%3D%20msg.data.k%3B%20const%20sym%20%3D%20msg.data.s%20%7C%7C%20k.s%20%7C%7C%20msg.stream%3F.split%28%27@%27%29%5B0%5D.toUpperCase%28%29%3B%0A%20%20%20%20const%20st%20%3D%20per%5Bsym%5D%3B%20if%28%21st%29%20return%3B%0A%0A%20%20%20%20const%20incoming%20%3D%20%7B%20time%3Ak.t%2C%20open%3A+k.o%2C%20high%3A+k.h%2C%20low%3A+k.l%2C%20close%3A+k.c%2C%20volume%3A+k.v%20%7D%3B%0A%20%20%20%20const%20arr%20%3D%20st.candles%3B%0A%20%20%20%20const%20last%20%3D%20arr%5Barr.length-1%5D%3B%0A%20%20%20%20const%20sameBar%20%3D%20last%20%26%26%20last.time%20%3D%3D%3D%20incoming.time%3B%0A%20%20%20%20if%20%28sameBar%29%20arr%5Barr.length-1%5D%20%3D%20incoming%3B%20else%20%7B%20arr.push%28incoming%29%3B%20per%5Bsym%5D.lastWsCandleTs%20%3D%20incoming.time%3B%20%7D%0A%20%20%20%20st.candles%20%3D%20clampStore%28arr%29%3B%0A%0A%20%20%20%20//%20Only%20log%20if%20active%20to%20keep%20output%20readable%0A%20%20%20%20if%20%28sym%20%3D%3D%3D%20active%29%7B%0A%20%20%20%20%20%20const%20ts%20%3D%20new%20Date%28incoming.time%29.toLocaleTimeString%28%29%3B%0A%20%20%20%20%20%20const%20delta%20%3D%20%28last%20%3F%20incoming.close%20-%20last.close%20%3A%200%29%3B%0A%20%20%20%20%20%20pushLog%28%60%24%7BsameBar%20%3F%20%27%u26A1%27%20%3A%20%27%uD83D%uDFE2%27%7D%20%24%7Bsym%7D%20%5B%24%7Bts%7D%5D%20O%3A%24%7Bfmt%28incoming.open%29%7D%20H%3A%24%7Bfmt%28incoming.high%29%7D%20L%3A%24%7Bfmt%28incoming.low%29%7D%20C%3A%24%7Bfmt%28incoming.close%29%7D%20%28%u0394%20%24%7Bfmt%28delta%29%7D%29%20V%3A%24%7Bfmt%28incoming.volume%2C0%29%7D%60%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28sym%20%3D%3D%3D%20active%29%20%7B%20drawChart%28%29%3B%20updateIndicators%28sym%29%3B%20%7D%0A%20%20%20%20drawSpark%28sym%29%3B%0A%20%20%20%20evaluateBuyAlert%28sym%29%3B%0A%20%20%7D%3B%0A%7D%0A%0AbtnPause.onclick%20%3D%20%28%29%3D%3E%7B%20livePaused%20%3D%20true%3B%20liveEl.textContent%20%3D%20%27Live%3A%20paused%27%3B%20%7D%3B%0AbtnResume.onclick%20%3D%20%28%29%3D%3E%7B%20livePaused%20%3D%20false%3B%20liveEl.textContent%20%3D%20%27Live%3A%20connected%27%3B%20%7D%3B%0AbtnJumpNow.onclick%20%3D%20%28%29%3D%3E%20drawChart%28true%29%3B%0A%0A/**%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%20*%20%20Indicators%20%28same%20math%20across%20pairs%29%0A%20*%20%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20*/%0Afunction%20SMA%28p%2C%20arr%29%7B%20if%28arr.length%3Cp%29%20return%20null%3B%20let%20s%3D0%3B%20for%28let%20i%3Darr.length-p%3Bi%3Carr.length%3Bi++%29%20s+%3Darr%5Bi%5D.close%3B%20return%20s/p%3B%20%7D%0Afunction%20EMA%28p%2C%20arr%29%7B%20if%28arr.length%3Cp%29%20return%20null%3B%20const%20k%3D2/%28p+1%29%3B%20let%20ema%3D0%2Csum%3D0%3B%20for%28let%20i%3D0%3Bi%3Cp%3Bi++%29%20sum+%3Darr%5Bi%5D.close%3B%20ema%3Dsum/p%3B%20for%28let%20i%3Dp%3Bi%3Carr.length%3Bi++%29%20ema%3Darr%5Bi%5D.close*k+ema*%281-k%29%3B%20return%20ema%3B%20%7D%0Afunction%20EMAArray%28p%2Carr%29%7B%20if%28arr.length%3Cp%29%20return%20null%3B%20const%20k%3D2/%28p+1%29%3B%20const%20out%3D%5B%5D%3B%20let%20sum%3D0%3B%20for%28let%20i%3D0%3Bi%3Cp%3Bi++%29%20sum+%3Darr%5Bi%5D.close%3B%20let%20ema%3Dsum/p%3B%20out.push%28ema%29%3B%20for%28let%20i%3Dp%3Bi%3Carr.length%3Bi++%29%7B%20ema%3Darr%5Bi%5D.close*k+ema*%281-k%29%3B%20out.push%28ema%29%3B%7D%20return%20out%3B%20%7D%0Afunction%20EMAFromArray%28p%2Cseries%29%7B%20if%28%21series%7C%7Cseries.length%3Cp%29%20return%20null%3B%20const%20k%3D2/%28p+1%29%3B%20const%20out%3D%5B%5D%3B%20let%20sum%3D0%3B%20for%28let%20i%3D0%3Bi%3Cp%3Bi++%29%20sum+%3Dseries%5Bi%5D%3B%20let%20ema%3Dsum/p%3B%20out.push%28ema%29%3B%20for%28let%20i%3Dp%3Bi%3Cseries.length%3Bi++%29%7B%20ema%3Dseries%5Bi%5D*k+ema*%281-k%29%3B%20out.push%28ema%29%3B%7D%20return%20out%3B%20%7D%0Afunction%20MACD%28arr%29%7B%20const%20e12%3DEMAArray%2812%2Carr%29%2C%20e26%3DEMAArray%2826%2Carr%29%3B%20if%28%21e12%7C%7C%21e26%29%20return%20%5Bnull%2Cnull%2Cnull%5D%3B%20const%20n%3DMath.min%28e12.length%2Ce26.length%29%3B%20const%20macdLine%3D%5B%5D%3B%20for%28let%20i%3D0%3Bi%3Cn%3Bi++%29%20macdLine.push%28e12%5Be12.length-n+i%5D-e26%5Be26.length-n+i%5D%29%3B%20const%20signal%3DEMAFromArray%289%2CmacdLine%29%3B%20if%28%21signal%29%20return%20%5Bnull%2Cnull%2Cnull%5D%3B%20const%20hist%3DmacdLine%5BmacdLine.length-1%5D-signal%5Bsignal.length-1%5D%3B%20return%20%5BmacdLine%5BmacdLine.length-1%5D%2C%20signal%5Bsignal.length-1%5D%2C%20hist%5D%3B%20%7D%0Afunction%20RSI%28p%2Carr%29%7B%20if%28arr.length%3Cp+1%29%20return%20null%3B%20let%20gains%3D0%2Closses%3D0%3B%20for%28let%20i%3Darr.length-p%3Bi%3Carr.length%3Bi++%29%7B%20const%20d%3Darr%5Bi%5D.close-arr%5Bi-1%5D.close%3B%20if%28d%3E%3D0%29%20gains+%3Dd%3B%20else%20losses-%3Dd%3B%20%7D%20const%20ag%3Dgains/p%2C%20al%3Dlosses/p%3B%20if%28al%3D%3D%3D0%29%20return%20100%3B%20const%20rs%3Dag/al%3B%20return%20100-100/%281+rs%29%3B%20%7D%0Afunction%20Bollinger%28p%2Carr%29%7B%20if%28arr.length%3Cp%29%20return%20%5Bnull%2Cnull%2Cnull%5D%3B%20const%20slice%3Darr.slice%28-p%29%3B%20const%20mean%3Dslice.reduce%28%28a%2Cc%29%3D%3Ea+c.close%2C0%29/p%3B%20const%20variance%3Dslice.reduce%28%28a%2Cc%29%3D%3Ea+%28c.close-mean%29**2%2C0%29/p%3B%20const%20sd%3DMath.sqrt%28variance%29%3B%20return%20%5Bmean%2C%20mean+2*sd%2C%20mean-2*sd%5D%3B%20%7D%0Afunction%20ATR%28p%2Carr%29%7B%20if%28arr.length%3Cp+1%29%20return%20null%3B%20const%20trs%3D%5B%5D%3B%20for%28let%20i%3D1%3Bi%3Carr.length%3Bi++%29%7B%20const%20h%3Darr%5Bi%5D.high%2Cl%3Darr%5Bi%5D.low%2Cpc%3Darr%5Bi-1%5D.close%3B%20trs.push%28Math.max%28h-l%2C%20Math.abs%28h-pc%29%2C%20Math.abs%28l-pc%29%29%29%3B%20%7D%20const%20last%3Dtrs.slice%28-p%29%3B%20return%20last.reduce%28%28a%2Cb%29%3D%3Ea+b%2C0%29/p%3B%20%7D%0Afunction%20Donchian%28p%2Carr%29%7B%20if%28arr.length%3Cp%29%20return%20%5Bnull%2Cnull%5D%3B%20const%20s%3Darr.slice%28-p%29%3B%20return%20%5BMath.max%28...s.map%28x%3D%3Ex.high%29%29%2C%20Math.min%28...s.map%28x%3D%3Ex.low%29%29%5D%3B%20%7D%0Afunction%20VWAP%28arr%29%7B%20let%20tpv%3D0%2Cvol%3D0%3B%20for%28const%20k%20of%20arr%29%7B%20const%20tp%3D%28k.high+k.low+k.close%29/3%3B%20tpv+%3Dtp*k.volume%3B%20vol+%3Dk.volume%3B%20%7D%20return%20vol%3F%20%28tpv/vol%29%3Anull%3B%20%7D%0Afunction%20OBV%28arr%29%7B%20if%28arr.length%3C2%29%20return%200%3B%20let%20obv%3D0%3B%20for%28let%20i%3D1%3Bi%3Carr.length%3Bi++%29%7B%20if%28arr%5Bi%5D.close%3Earr%5Bi-1%5D.close%29%20obv+%3Darr%5Bi%5D.volume%3B%20else%20if%28arr%5Bi%5D.close%3Carr%5Bi-1%5D.close%29%20obv-%3Darr%5Bi%5D.volume%3B%20%7D%20return%20obv%3B%20%7D%0Afunction%20Pivots%28c%29%7B%20if%28%21c%29%20return%20%5Bnull%2Cnull%2Cnull%5D%3B%20const%20p%3D%28c.high+c.low+c.close%29/3%3B%20const%20s1%3D%282*p%29-c.high%3B%20const%20r1%3D%282*p%29-c.low%3B%20return%20%5Bp%2Cs1%2Cr1%5D%3B%20%7D%0Afunction%20ParabolicSAR%28arr%2C%20step%3D0.02%2C%20max%3D0.2%29%7B%20if%28arr.length%3C2%29%20return%20null%3B%20let%20isUp%3Dtrue%2C%20sar%3Darr%5Barr.length-2%5D.low%2C%20ep%3Darr%5Barr.length-2%5D.high%2C%20af%3Dstep%3B%20for%28let%20i%3Darr.length-2%3Bi%3Carr.length%3Bi++%29%7B%20if%28isUp%29%7B%20sar+%3Daf*%28ep-sar%29%3B%20if%28arr%5Bi%5D.low%3Csar%29%7B%20isUp%3Dfalse%3B%20sar%3Dep%3B%20ep%3Darr%5Bi%5D.low%3B%20af%3Dstep%3B%20%7D%20else%20if%28arr%5Bi%5D.high%3Eep%29%7B%20ep%3Darr%5Bi%5D.high%3B%20af%3DMath.min%28af+step%2Cmax%29%3B%20%7D%20%7D%20else%20%7B%20sar+%3Daf*%28ep-sar%29%3B%20if%28arr%5Bi%5D.high%3Esar%29%7B%20isUp%3Dtrue%3B%20sar%3Dep%3B%20ep%3Darr%5Bi%5D.high%3B%20af%3Dstep%3B%20%7D%20else%20if%28arr%5Bi%5D.low%3Cep%29%7B%20ep%3Darr%5Bi%5D.low%3B%20af%3DMath.min%28af+step%2Cmax%29%3B%20%7D%20%7D%20%7D%20return%20sar%3B%20%7D%0Afunction%20ADX%28p%2Carr%29%7B%20if%28arr.length%3Cp+1%29%20return%20null%3B%20const%20plusDM%3D%5B%5D%2CminusDM%3D%5B%5D%2Ctrs%3D%5B%5D%3B%20for%28let%20i%3D1%3Bi%3Carr.length%3Bi++%29%7B%20const%20up%3Darr%5Bi%5D.high-arr%5Bi-1%5D.high%3B%20const%20dn%3Darr%5Bi-1%5D.low-arr%5Bi%5D.low%3B%20plusDM.push%28up%3Edn%26%26up%3E0%3Fup%3A0%29%3B%20minusDM.push%28dn%3Eup%26%26dn%3E0%3Fdn%3A0%29%3B%20trs.push%28Math.max%28arr%5Bi%5D.high-arr%5Bi%5D.low%2C%20Math.abs%28arr%5Bi%5D.high-arr%5Bi-1%5D.close%29%2C%20Math.abs%28arr%5Bi%5D.low-arr%5Bi-1%5D.close%29%29%29%3B%20%7D%20const%20avgTR%3Dtrs.slice%28-p%29.reduce%28%28a%2Cb%29%3D%3Ea+b%2C0%29/p%3B%20const%20avgPlus%3DplusDM.slice%28-p%29.reduce%28%28a%2Cb%29%3D%3Ea+b%2C0%29/p%3B%20const%20avgMinus%3DminusDM.slice%28-p%29.reduce%28%28a%2Cb%29%3D%3Ea+b%2C0%29/p%3B%20const%20plusDI%3D100*%28avgPlus/avgTR%29%2C%20minusDI%3D100*%28avgMinus/avgTR%29%3B%20const%20dx%3D100*Math.abs%28plusDI-minusDI%29/%28plusDI+minusDI%29%3B%20return%20dx%3B%20%7D%0Alet%20stochBufMap%20%3D%20new%20Map%28%29%3B%0Afunction%20Stochastic%28p%2Carr%2Csym%29%7B%20if%28arr.length%3Cp%29%20return%20%5Bnull%2Cnull%5D%3B%20const%20s%3Darr.slice%28-p%29%3B%20const%20hi%3DMath.max%28...s.map%28x%3D%3Ex.high%29%29%3B%20const%20lo%3DMath.min%28...s.map%28x%3D%3Ex.low%29%29%3B%20const%20close%3Darr%5Barr.length-1%5D.close%3B%20const%20k%3D%28hi%3D%3D%3Dlo%29%3F50%3A%28%28close-lo%29/%28hi-lo%29%29*100%3B%20let%20buf%3DstochBufMap.get%28sym%29%7C%7C%5B%5D%3B%20buf.push%28k%29%3B%20if%28buf.length%3E3%29%20buf.shift%28%29%3B%20stochBufMap.set%28sym%2Cbuf%29%3B%20const%20d%3Dbuf.length%3D%3D%3D3%3F%28buf%5B0%5D+buf%5B1%5D+buf%5B2%5D%29/3%3Anull%3B%20return%20%5Bk%2Cd%5D%3B%20%7D%0A%0A/**%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%20*%20%20Indicator%20Panel%20Update%20%28active%20symbol%29%0A%20*%20%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20*/%0Afunction%20updateIndicators%28sym%3Dactive%29%7B%0A%20%20const%20arr%20%3D%20per%5Bsym%5D.candles%3B%20const%20n%3Darr.length%3B%20if%28n%3C30%29%7B%20panel.textContent%3D%27%u23F3%20Waiting%20for%20more%20candles%u2026%27%3B%20return%3B%20%7D%0A%20%20const%20view%20%3D%20arr.slice%28-150%29%3B%0A%20%20const%20sma14%3DSMA%2814%2Cview%29%3B%20const%20ema14%3DEMA%2814%2Cview%29%3B%0A%20%20const%20%5Bmacd%2Csignal%2Chist%5D%3DMACD%28view%29%3B%0A%20%20const%20rsi14%3DRSI%2814%2Cview%29%3B%0A%20%20const%20%5BbbMid%2CbbU%2CbbL%5D%3DBollinger%2820%2Cview%29%3B%0A%20%20const%20atr14%3DATR%2814%2Cview%29%3B%0A%20%20const%20%5BdcH%2CdcL%5D%3DDonchian%2820%2Cview%29%3B%0A%20%20const%20vwap%3DVWAP%28view%29%3B%0A%20%20const%20obv%3DOBV%28view%29%3B%0A%20%20const%20%5Bpivot%2Cs1%2Cr1%5D%3DPivots%28view%5Bview.length-1%5D%29%3B%0A%20%20const%20psar%3DParabolicSAR%28view%29%3B%0A%20%20const%20adx14%3DADX%2814%2Cview%29%3B%0A%20%20const%20%5BstK%2CstD%5D%3DStochastic%2814%2Cview%2Csym%29%3B%0A%20%20const%20emaSignal%3D%28ema14%21%3Dnull%20%26%26%20sma14%21%3Dnull%29%3F%20%28ema14%3Esma14%3F%20%27%uD83D%uDFE2%20Bullish%20EMA%3E%20SMA%27%3A%20%28ema14%3Csma14%3F%27%uD83D%uDD34%20Bearish%20EMA%3C%20SMA%27%3A%27%u3030%uFE0F%20Flat%27%29%29%3A%27%u23F3%27%3B%0A%20%20panel.innerHTML%20%3D%20%60%0A%20%20%20%20%3Ch3%3E%uD83D%uDD39%20Trend%3C/h3%3E%0A%20%20%20%20%u2022%20SMA14%3A%20%24%7Bfmt%28sma14%29%7D%3Cbr%3E%0A%20%20%20%20%u2022%20EMA14%3A%20%24%7Bfmt%28ema14%29%7D%3Cbr%3E%0A%20%20%20%20%u2022%20EMA%20vs%20SMA%3A%20%24%7BemaSignal%7D%3Cbr%3E%0A%20%20%20%20%u2022%20MACD%3A%20%24%7Bfmt%28macd%2C4%29%7D%20/%20Signal%3A%20%24%7Bfmt%28signal%2C4%29%7D%20/%20Hist%3A%20%3Cspan%20class%3D%22%24%7B%28hist%7C%7C0%29%3E%3D0%3F%27green%27%3A%27red%27%7D%22%3E%24%7Bfmt%28hist%2C4%29%7D%3C/span%3E%3Cbr%3E%0A%20%20%20%20%u2022%20Parabolic%20SAR%3A%20%24%7Bfmt%28psar%29%7D%3Cbr%3E%0A%20%20%20%20%u2022%20ADX%2814%29%3A%20%24%7Bfmt%28adx14%29%7D%0A%20%20%20%20%3Ch3%3E%uD83D%uDD38%20Momentum%3C/h3%3E%0A%20%20%20%20%u2022%20RSI14%3A%20%3Cspan%20class%3D%22%24%7B%28rsi14%7C%7C0%29%3E%3D50%3F%27green%27%3A%27red%27%7D%22%3E%24%7Bfmt%28rsi14%29%7D%3C/span%3E%3Cbr%3E%0A%20%20%20%20%u2022%20Stoch%20%25K%3A%20%24%7Bfmt%28stK%29%7D%20%u2014%20%25D%3A%20%24%7Bfmt%28stD%29%7D%0A%20%20%20%20%3Ch3%3E%uD83C%uDF2A%uFE0F%20Volatility%3C/h3%3E%0A%20%20%20%20%u2022%20BB%20Mid%3A%20%24%7Bfmt%28bbMid%29%7D%20%7C%20Upper%3A%20%24%7Bfmt%28bbU%29%7D%20%7C%20Lower%3A%20%24%7Bfmt%28bbL%29%7D%3Cbr%3E%0A%20%20%20%20%u2022%20ATR14%3A%20%24%7Bfmt%28atr14%29%7D%3Cbr%3E%0A%20%20%20%20%u2022%20Donchian%20H/L%2820%29%3A%20%24%7Bfmt%28dcH%29%7D%20/%20%24%7Bfmt%28dcL%29%7D%0A%20%20%20%20%3Ch3%3E%uD83D%uDCE6%20Volume%3C/h3%3E%0A%20%20%20%20%u2022%20VWAP%3A%20%24%7Bfmt%28vwap%29%7D%3Cbr%3E%0A%20%20%20%20%u2022%20OBV%3A%20%24%7Bfmt%28obv%2C0%29%7D%0A%20%20%20%20%3Ch3%3E%uD83D%uDD0D%20Price%20Pivots%3C/h3%3E%0A%20%20%20%20%u2022%20Pivot%3A%20%24%7Bfmt%28pivot%29%7D%20%7C%20S1%3A%20%24%7Bfmt%28s1%29%7D%20%7C%20R1%3A%20%24%7Bfmt%28r1%29%7D%0A%20%20%60%3B%0A%7D%0A%0A/**%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%20*%20%20BUY%20Alert%20Logic%20%28uses%20ALL%20indicators%20cohesively%29%0A%20*%20%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20*/%0Afunction%20evaluateBuyAlert%28sym%29%7B%0A%20%20const%20arr%20%3D%20per%5Bsym%5D.candles%3B%20if%20%28arr.length%20%3C%2030%29%20return%3B%20//%20need%20data%0A%20%20const%20view%20%3D%20arr.slice%28-150%29%3B%0A%20%20const%20last%20%3D%20view%5Bview.length-1%5D%3B%0A%20%20const%20sma14%3DSMA%2814%2Cview%29%3B%20const%20ema14%3DEMA%2814%2Cview%29%3B%0A%20%20const%20%5Bmacd%2Csignal%2Chist%5D%3DMACD%28view%29%3B%0A%20%20const%20rsi14%3DRSI%2814%2Cview%29%3B%0A%20%20const%20%5BbbMid%5D%3DBollinger%2820%2Cview%29%3B%0A%20%20const%20atr14%3DATR%2814%2Cview%29%3B%0A%20%20const%20%5BdcH%2CdcL%5D%3DDonchian%2820%2Cview%29%3B%0A%20%20const%20vwap%3DVWAP%28view%29%3B%0A%20%20const%20obv%3DOBV%28view%29%3B%0A%20%20const%20%5Bpivot%5D%3DPivots%28last%29%3B%0A%20%20const%20psar%3DParabolicSAR%28view%29%3B%0A%20%20const%20adx14%3DADX%2814%2Cview%29%3B%0A%20%20const%20%5BstK%2CstD%5D%3DStochastic%2814%2Cview%2Csym%29%3B%0A%0A%20%20//%20Cohesive%20BUY%20rule%20requiring%20confirmations%20across%20indicators%0A%20%20const%20trendUp%20%3D%20%28ema14%21%3Dnull%26%26sma14%21%3Dnull%29%20%26%26%20ema14%3Esma14%3B%0A%20%20const%20macdBull%20%3D%20macd%21%3Dnull%20%26%26%20signal%21%3Dnull%20%26%26%20macd%3Esignal%20%26%26%20%28hist%7C%7C0%29%3E0%3B%0A%20%20const%20rsiBull%20%3D%20%28rsi14%7C%7C0%29%20%3E%3D%2055%3B%0A%20%20const%20priceAboveBBmid%20%3D%20bbMid%21%3Dnull%20%26%26%20last.close%20%3E%20bbMid%3B%0A%20%20const%20psarBull%20%3D%20psar%21%3Dnull%20%26%26%20last.close%20%3E%20psar%3B%0A%20%20const%20adxOk%20%3D%20%28adx14%7C%7C0%29%20%3E%3D%2018%3B%20//%20trend%20strength%0A%20%20const%20stochUp%20%3D%20stK%21%3Dnull%20%26%26%20stD%21%3Dnull%20%26%26%20stK%20%3E%20stD%20%26%26%20stK%20%3C%2085%3B%0A%20%20const%20aboveVWAP%20%3D%20vwap%21%3Dnull%20%26%26%20last.close%20%3E%20vwap%3B%0A%20%20const%20abovePivot%20%3D%20pivot%21%3Dnull%20%26%26%20last.close%20%3E%20pivot%3B%0A%20%20const%20donchianNearHigh%20%3D%20%28dcH%21%3Dnull%29%20%26%26%20%28last.close%20%3E%20%28dcH%20+%20dcL%29/2%29%3B%0A%20%20const%20obvNotFalling%20%3D%20%28obv%7C%7C0%29%20%3E%3D%200%3B%20//%20simple%20non-negative%20since%20we%20compute%20relative%0A%0A%20%20const%20ok%20%3D%20trendUp%20%26%26%20macdBull%20%26%26%20rsiBull%20%26%26%20priceAboveBBmid%20%26%26%20psarBull%20%26%26%20adxOk%20%26%26%20stochUp%20%26%26%20aboveVWAP%20%26%26%20abovePivot%20%26%26%20donchianNearHigh%20%26%26%20obvNotFalling%3B%0A%0A%20%20const%20badge%20%3D%20document.getElementById%28%60bd_%24%7Bsym%7D%60%29%3B%0A%20%20if%20%28ok%29%7B%0A%20%20%20%20badge.textContent%20%3D%20%27BUY%27%3B%20badge.className%20%3D%20%27badg%20buy%27%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20badge.textContent%20%3D%20%27%u2014%27%3B%20badge.className%20%3D%20%27badg%27%3B%0A%20%20%7D%0A%0A%20%20//%20Trigger%20native%20popup%20only%20ONCE%20per%20candle%20when%20conditions%20flip%20true%0A%20%20const%20lastTs%20%3D%20per%5Bsym%5D.lastAlertTs%20%7C%7C%200%3B%0A%20%20const%20candleTs%20%3D%20last.time%3B%20//%20ms%0A%20%20if%20%28ok%20%26%26%20candleTs%20%21%3D%3D%20lastTs%29%7B%0A%20%20%20%20per%5Bsym%5D.lastAlertTs%20%3D%20candleTs%3B%0A%20%20%20%20const%20msg%20%3D%20%60%24%7Bsym%7D%20BUY%20@%20%24%7Bfmt%28last.close%29%7D%20%20%7C%20EMA%3ESMA%2C%20MACD+%2C%20RSI%20%24%7Bfmt%28rsi14%29%7D%20%7C%20ADX%20%24%7Bfmt%28adx14%29%7D%20%7C%20VWAP%20%24%7Bfmt%28vwap%29%7D%20%7C%20BBmid%20%24%7Bfmt%28bbMid%29%7D%60%3B%0A%20%20%20%20pushLog%28%60%uD83D%uDD14%20%24%7Bmsg%7D%60%29%3B%0A%20%20%20%20notify%28%60BUY%20Alert%20%u2014%20%24%7Bsym%7D%60%2C%20msg%29%3B%0A%20%20%7D%0A%7D%0A%0A/**%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%20*%20%20Canvas%20Chart%20%28active%20symbol%29%0A%20*%20%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20*/%0Aconst%20canvas%20%3D%20document.getElementById%28%27chart%27%29%3B%0Aconst%20ctx%20%3D%20canvas.getContext%28%272d%27%29%3B%0Afunction%20resizeCanvas%28%29%7B%20const%20dpr%3Dwindow.devicePixelRatio%7C%7C1%3B%20const%20rect%3Dcanvas.getBoundingClientRect%28%29%3B%20canvas.width%3Drect.width*dpr%3B%20canvas.height%3Drect.height*dpr%3B%20ctx.setTransform%28dpr%2C0%2C0%2Cdpr%2C0%2C0%29%3B%20%7D%0Awindow.addEventListener%28%27resize%27%2C%20%28%29%3D%3E%7B%20resizeCanvas%28%29%3B%20drawChart%28%29%3B%20%7D%29%3B%0AresizeCanvas%28%29%3B%0A%0Afunction%20drawChart%28scrollToEnd%3Dfalse%29%7B%0A%20%20const%20arr%20%3D%20per%5Bactive%5D.candles%3B%20if%20%28%21arr.length%29%20return%3B%20visNEl.textContent%20%3D%20VISIBLE%3B%0A%20%20const%20w%3Dcanvas.clientWidth%2C%20h%3Dcanvas.clientHeight%3B%20ctx.clearRect%280%2C0%2Cw%2Ch%29%3B%0A%20%20//%20grid%0A%20%20ctx.strokeStyle%20%3D%20%27%231a1a1a%27%3B%20ctx.lineWidth%20%3D%201%3B%20for%28let%20i%3D0%3Bi%3C8%3Bi++%29%7B%20const%20y%3D%28h/8%29*i%3B%20ctx.beginPath%28%29%3B%20ctx.moveTo%280%2Cy%29%3B%20ctx.lineTo%28w%2Cy%29%3B%20ctx.stroke%28%29%3B%20%7D%0A%20%20const%20view%20%3D%20arr.slice%28-VISIBLE%29%3B%20const%20maxP%3DMath.max%28...view.map%28c%3D%3Ec.high%29%29%3B%20const%20minP%3DMath.min%28...view.map%28c%3D%3Ec.low%29%29%3B%20const%20cw%3Dw/view.length%3B%0A%20%20for%28let%20i%3D0%3Bi%3Cview.length%3Bi++%29%7B%0A%20%20%20%20const%20c%3Dview%5Bi%5D%3B%20const%20x%3Di*cw%3B%20const%20yOpen%3D%281-%28c.open-minP%29/%28maxP-minP%29%29*h%3B%20const%20yClose%3D%281-%28c.close-minP%29/%28maxP-minP%29%29*h%3B%20const%20yHigh%3D%281-%28c.high-minP%29/%28maxP-minP%29%29*h%3B%20const%20yLow%3D%281-%28c.low-minP%29/%28maxP-minP%29%29*h%3B%0A%20%20%20%20ctx.strokeStyle%20%3D%20%28c.close%3E%3Dc.open%29%3F%20%27%230f0%27%20%3A%20%27%23ff4d4d%27%3B%20ctx.beginPath%28%29%3B%20ctx.moveTo%28x+cw/2%2CyHigh%29%3B%20ctx.lineTo%28x+cw/2%2CyLow%29%3B%20ctx.stroke%28%29%3B%0A%20%20%20%20ctx.fillStyle%20%3D%20%28c.close%3E%3Dc.open%29%3F%20%27%230f0%27%20%3A%20%27%23ff4d4d%27%3B%20const%20bodyY%3DMath.min%28yOpen%2CyClose%29%3B%20const%20bodyH%3DMath.max%282%2C%20Math.abs%28yClose-yOpen%29%29%3B%20ctx.fillRect%28x+1%2C%20bodyY%2C%20Math.max%281%2Ccw-2%29%2C%20bodyH%29%3B%0A%20%20%7D%0A%20%20const%20last%20%3D%20view%5Bview.length-1%5D%3B%20ctx.fillStyle%20%3D%20%27%2300ffff%27%3B%20ctx.fillText%28%60%24%7Bactive%7D%20%20C%3A%20%24%7Bfmt%28last.close%29%7D%60%2C%208%2C%2014%29%3B%0A%7D%0A%0A/**%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%20*%20%20Sparkline%20mini%20charts%20per%20tile%0A%20*%20%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20*/%0Afunction%20drawSpark%28sym%29%7B%0A%20%20const%20arr%20%3D%20per%5Bsym%5D.candles%3B%20const%20el%20%3D%20document.getElementById%28%60sp_%24%7Bsym%7D%60%29%3B%20if%28%21el%7C%7Carr.length%3C20%29%20return%3B%20const%20ctx2%20%3D%20el.getContext%28%272d%27%29%3B%0A%20%20const%20dpr%3Dwindow.devicePixelRatio%7C%7C1%3B%20const%20rect%3Del.getBoundingClientRect%28%29%3B%20el.width%3Drect.width*dpr%3B%20el.height%3Drect.height*dpr%3B%20ctx2.setTransform%28dpr%2C0%2C0%2Cdpr%2C0%2C0%29%3B%0A%20%20ctx2.clearRect%280%2C0%2Cel.clientWidth%2C%20el.clientHeight%29%3B%0A%20%20const%20N%3DMath.min%28120%2C%20arr.length%29%3B%20const%20v%3Darr.slice%28-N%29%3B%20const%20w%3Del.clientWidth%2C%20h%3Del.clientHeight%3B%20const%20maxP%3DMath.max%28...v.map%28c%3D%3Ec.high%29%29%3B%20const%20minP%3DMath.min%28...v.map%28c%3D%3Ec.low%29%29%3B%20const%20dx%3Dw/%28v.length-1%29%3B%0A%20%20ctx2.beginPath%28%29%3B%20for%28let%20i%3D0%3Bi%3Cv.length%3Bi++%29%7B%20const%20x%3Di*dx%3B%20const%20y%3D%281-%28v%5Bi%5D.close-minP%29/%28maxP-minP%29%29*h%3B%20if%28i%3D%3D%3D0%29%20ctx2.moveTo%28x%2Cy%29%3B%20else%20ctx2.lineTo%28x%2Cy%29%3B%7D%20ctx2.strokeStyle%3D%27%230f0%27%3B%20ctx2.lineWidth%3D1.5%3B%20ctx2.stroke%28%29%3B%0A%7D%0A%0A/**%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%20*%20%20Kickoff%0A%20*%20%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20*/%0A%28async%20function%20main%28%29%7B%0A%20%20await%20ensureNotify%28%29%3B%0A%20%20await%20preloadAll%28%29%3B%0A%20%20startCombinedWS%28%29%3B%0A%20%20setInterval%28%28%29%3D%3E%20updateIndicators%28active%29%2C%201000%29%3B%0A%7D%29%28%29%3B%0A%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A%0A'));
</script>
